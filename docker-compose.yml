services:
  monolithbot:
    image: ghcr.io/stevengann/monolithbot:latest
    container_name: monolithbot
    restart: unless-stopped
    environment:
      # Discord Configuration
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - DISCORD_ANNOUNCEMENT_CHANNEL_ID=${DISCORD_ANNOUNCEMENT_CHANNEL_ID}
      - DISCORD_ALERT_CHANNEL_ID=${DISCORD_ALERT_CHANNEL_ID:-}

      # Jellyfin Configuration
      - JELLYFIN_URL=${JELLYFIN_URL:-http://jellyfin:8096}
      - JELLYFIN_API_KEY=${JELLYFIN_API_KEY}

      # Schedule Configuration (optional)
      - SCHEDULE_ANNOUNCEMENT_TIMES=${SCHEDULE_ANNOUNCEMENT_TIMES:-17:00}
      - SCHEDULE_TIMEZONE=${SCHEDULE_TIMEZONE:-America/Los_Angeles}
      - SCHEDULE_HEALTH_CHECK_INTERVAL=${SCHEDULE_HEALTH_CHECK_INTERVAL:-5}
      - SCHEDULE_LOOKBACK_HOURS=${SCHEDULE_LOOKBACK_HOURS:-24}

      # Content Types (optional)
      - CONTENT_TYPES=${CONTENT_TYPES:-Movie,Series,Audio}

    # Optional: Mount a config file instead of using env vars
    # volumes:
    #   - ./config.json:/app/config.json:ro

    # Optional: Connect to the same network as Jellyfin
    # networks:
    #   - jellyfin_network

# Optional: If Jellyfin is on a custom network
# networks:
#   jellyfin_network:
#     external: true
